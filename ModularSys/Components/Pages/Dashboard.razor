@page "/dashboard"

<MudContainer MaxWidth="MaxWidth.False" Class="pa-0">
    <!-- Header -->
    @* <div class="dashboard-header">
        <MudText Typo="Typo.h5" Class="font-weight-semibold mb-1">Inventory Management</MudText>
        <MudText Typo="Typo.body2" Color="Color.Secondary">Track and manage your computer parts distribution</MudText>
    </div> *@

    <!-- Stats Cards -->
    <MudGrid Class="px-0 pb-3" Spacing="2">
        <MudItem xs="12" sm="6" md="3">
            <MudCard Class="stat-card" Elevation="1">
                <MudCardContent>
                    <div class="d-flex align-center">
                        <MudAvatar Color="Color.Primary" Size="Size.Medium" Class="mr-3 stat-icon">
                            <MudIcon Icon="@Icons.Material.Filled.AttachMoney" Size="Size.Medium" Color="Color.Inherit" />
                        </MudAvatar>
                        <div class="flex-grow-1">
                            <MudText Typo="Typo.h6" Class="font-weight-bold mb-1">₱125,430</MudText>
                            <MudText Typo="Typo.caption" Color="Color.Secondary">Total Revenue</MudText>
                            <div class="d-flex align-center mt-1 positive-trend">
                                <MudIcon Icon="@Icons.Material.Filled.ArrowUpward" Size="Size.Small" />
                                <MudText Typo="Typo.caption" Class="ml-1">12.5% from last month</MudText>
                            </div>
                        </div>
                    </div>
                </MudCardContent>
            </MudCard>
        </MudItem>

        <MudItem xs="12" sm="6" md="3">
            <MudCard Class="stat-card" Elevation="1">
                <MudCardContent>
                    <div class="d-flex align-center">
                        <MudAvatar Color="Color.Warning" Size="Size.Medium" Class="mr-3 stat-icon">
                            <MudIcon Icon="@Icons.Material.Filled.ShoppingCart" Size="Size.Medium" Color="Color.Inherit" />
                        </MudAvatar>
                        <div class="flex-grow-1">
                            <MudText Typo="Typo.h6" Class="font-weight-bold mb-1">1,240</MudText>
                            <MudText Typo="Typo.caption" Color="Color.Secondary">Orders</MudText>
                            <div class="d-flex align-center mt-1 positive-trend">
                                <MudIcon Icon="@Icons.Material.Filled.ArrowUpward" Size="Size.Small" />
                                <MudText Typo="Typo.caption" Class="ml-1">8.3% from last month</MudText>
                            </div>
                        </div>
                    </div>
                </MudCardContent>
            </MudCard>
        </MudItem>

        <MudItem xs="12" sm="6" md="3">
            <MudCard Class="stat-card" Elevation="1">
                <MudCardContent>
                    <div class="d-flex align-center">
                        <MudAvatar Color="Color.Success" Size="Size.Medium" Class="mr-3 stat-icon">
                            <MudIcon Icon="@Icons.Material.Filled.People" Size="Size.Medium" Color="Color.Inherit" />
                        </MudAvatar>
                        <div class="flex-grow-1">
                            <MudText Typo="Typo.h6" Class="font-weight-bold mb-1">320</MudText>
                            <MudText Typo="Typo.caption" Color="Color.Secondary">Active Users</MudText>
                            <div class="d-flex align-center mt-1 positive-trend">
                                <MudIcon Icon="@Icons.Material.Filled.ArrowUpward" Size="Size.Small" />
                                <MudText Typo="Typo.caption" Class="ml-1">5.2% from last month</MudText>
                            </div>
                        </div>
                    </div>
                </MudCardContent>
            </MudCard>
        </MudItem>

        <MudItem xs="12" sm="6" md="3">
            <MudCard Class="stat-card" Elevation="1">
                <MudCardContent>
                    <div class="d-flex align-center">
                        <MudAvatar Color="Color.Error" Size="Size.Medium" Class="mr-3 stat-icon">
                            <MudIcon Icon="@Icons.Material.Filled.Inventory" Size="Size.Medium" Color="Color.Inherit" />
                        </MudAvatar>
                        <div class="flex-grow-1">
                            <MudText Typo="Typo.h6" Class="font-weight-bold mb-1">4,852</MudText>
                            <MudText Typo="Typo.caption" Color="Color.Secondary">Inventory Items</MudText>
                            <div class="d-flex align-center mt-1 negative-trend">
                                <MudIcon Icon="@Icons.Material.Filled.ArrowDownward" Size="Size.Small" />
                                <MudText Typo="Typo.caption" Class="ml-1">3.1% from last month</MudText>
                            </div>
                        </div>
                    </div>
                </MudCardContent>
            </MudCard>
        </MudItem>
    </MudGrid>

    <!-- Charts -->
    <MudGrid Class="px-0 pb-3" Spacing="2">
        <MudItem xs="12" md="6">
            <MudCard Elevation="1" Class="chart-card">
                <MudCardContent>
                    <div class="d-flex justify-space-between align-center mb-3">
                        <MudText Typo="Typo.subtitle1" Class="font-weight-medium">Sales Overview</MudText>
                        <MudIconButton Icon="@Icons.Material.Filled.MoreVert" Size="Size.Small" Variant="Variant.Text" />
                    </div>
                    <MudChart ChartType="ChartType.Line"
                              ChartSeries="@_salesSeries"
                              XAxisLabels="@_months"
                              Width="100%"
                              Height="280px"
                              AxisChartOptions="_chartOptions" />
                </MudCardContent>
            </MudCard>
        </MudItem>

        <MudItem xs="12" md="6">
            <MudCard Elevation="1" Class="chart-card">
                <MudCardContent>
                    <div class="d-flex justify-space-between align-center mb-3">
                        <MudText Typo="Typo.subtitle1" Class="font-weight-medium">Stock Levels per Item</MudText>
                        <MudIconButton Icon="@Icons.Material.Filled.MoreVert" Size="Size.Small" Variant="Variant.Text" />
                    </div>
                    <MudChart ChartType="ChartType.Bar"
                              ChartSeries="@_stockSeries"
                              XAxisLabels="@_items"
                              Width="100%"
                              Height="280px"
                              AxisChartOptions="_chartOptions" />
                </MudCardContent>
            </MudCard>
        </MudItem>
    </MudGrid>

    <style>
        .dashboard-header {
            padding: 1rem 0;
            border-bottom: 1px solid #e2e8f0;
            margin-bottom: 1.5rem;
        }

        .stat-card {
            border-radius: 8px;
            transition: all 0.2s ease;
        }

            .stat-card:hover {
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            }

        .positive-trend {
            color: #10b981;
        }

        .negative-trend {
            color: #ef4444;
        }

        .chart-card {
            border-radius: 8px;
        }

        .action-button {
            flex-direction: column;
            height: auto;
            padding: 0.75rem 0.5rem;
        }

            .action-button .mud-icon-root {
                margin-bottom: 0.25rem;
                font-size: 1.25rem;
            }

        @@media (max-width: 960px) {
            .dashboard-header {
                margin-bottom: 1rem;
            }
        }
    </style>
</MudContainer>

@code {
    private AxisChartOptions _chartOptions = new AxisChartOptions
    {
        XAxisLabelRotation = -30,
        MatchBoundsToSize = true,
    };

    private List<ChartSeries> _salesSeries = new()
    {
        new ChartSeries {
            Name = "Sales",
            Data = new double[] { 12000, 19000, 15000, 25000, 22000, 30000, 28000, 35000, 32000, 40000, 38000, 45000 }
        }
    };

    private string[] _months = { "Jan", "Feb", "Mar", "Apr", "May", "Jun",
                                 "Jul", "Aug", "Sep", "Oct", "Nov", "Dec" };

    private List<ChartSeries> _stockSeries = new()
    {
        new ChartSeries {
            Name = "Stock",
            Data = new double[] { 120, 85, 60, 150, 95, 40, 75 }
        }
    };

    private string[] _items = { "CPUs", "GPUs", "RAM", "SSDs", "HDDs", "Motherboards", "PSUs" };
}
